{"openapi":"3.1.0","info":{"title":"AutoPR-AI","description":"Python, FastAPI, Github AI, code review based on GPT-4","version":"0.1.0"},"paths":{"/github/pr":{"post":{"tags":["Github"],"summary":"Create Pr","operationId":"create_pr_github_pr_post","parameters":[{"name":"authorization","in":"header","required":true,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PRRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/github/comment":{"post":{"tags":["Github"],"summary":"Add Comment","operationId":"add_comment_github_comment_post","parameters":[{"name":"authorization","in":"header","required":true,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/github/secure-data":{"get":{"tags":["Github"],"summary":"Secure Data","operationId":"secure_data_github_secure_data_get","parameters":[{"name":"authorization","in":"header","required":true,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/review/upload":{"post":{"tags":["Code Review"],"summary":"Upload Code","operationId":"upload_code_review_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_code_review_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/review/analyze":{"post":{"tags":["Code Review"],"summary":"Review Code","operationId":"review_code_review_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/review/summary":{"get":{"tags":["Code Review"],"summary":"Review Summary","operationId":"review_summary_review_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/review/review-secure":{"get":{"tags":["Code Review"],"summary":"Review Secure","operationId":"review_secure_review_review_secure_get","parameters":[{"name":"authorization","in":"header","required":true,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db-test/insert-file":{"post":{"tags":["DB test"],"summary":"Insert File","operationId":"insert_file_db_test_insert_file_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db-test/get-file/{file_id}":{"get":{"tags":["DB test"],"summary":"Get File","operationId":"get_file_db_test_get_file__file_id__get","parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db-test/insert-user":{"post":{"tags":["DB test"],"summary":"Insert User","operationId":"insert_user_db_test_insert_user_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db-test/get-user/{user_id}":{"get":{"tags":["DB test"],"summary":"Get User","operationId":"get_user_db_test_get_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db-test/insert-review":{"post":{"tags":["DB test"],"summary":"Insert Code Review","operationId":"insert_code_review_db_test_insert_review_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db-test/get-review/{review_id}":{"get":{"tags":["DB test"],"summary":"Get Code Review","operationId":"get_code_review_db_test_get_review__review_id__get","parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"string","title":"Review Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeReviewModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/oauth/login":{"get":{"tags":["Github OAuth"],"summary":"Github Login","operationId":"github_login_oauth_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/oauth/callback":{"get":{"tags":["Github OAuth"],"summary":"Github Callback","operationId":"github_callback_oauth_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnalyzeRequest":{"properties":{"file_id":{"type":"string","title":"File Id"}},"type":"object","required":["file_id"],"title":"AnalyzeRequest"},"Body_upload_code_review_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_code_review_upload_post"},"CodeReviewModel":{"properties":{"_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"file_id":{"type":"string","title":"File Id"},"review_comments":{"items":{"type":"string"},"type":"array","title":"Review Comments"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["file_id","review_comments","summary","created_at"],"title":"CodeReviewModel"},"CommentRequest":{"properties":{"repo":{"type":"string","title":"Repo"},"pr_number":{"type":"integer","title":"Pr Number"},"comment":{"type":"string","title":"Comment"}},"type":"object","required":["repo","pr_number","comment"],"title":"CommentRequest"},"FileModel":{"properties":{"_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"filename":{"type":"string","title":"Filename"},"content":{"type":"string","title":"Content"},"uploaded_at":{"type":"string","title":"Uploaded At"}},"type":"object","required":["filename","content","uploaded_at"],"title":"FileModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PRRequest":{"properties":{"repo":{"type":"string","title":"Repo"},"branch":{"type":"string","title":"Branch"},"title":{"type":"string","title":"Title"},"body":{"type":"string","title":"Body"}},"type":"object","required":["repo","branch","title","body"],"title":"PRRequest"},"UserModel":{"properties":{"_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"github_id":{"type":"string","title":"Github Id"},"username":{"type":"string","title":"Username"},"access_token":{"type":"string","title":"Access Token"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["github_id","username","access_token","created_at"],"title":"UserModel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}